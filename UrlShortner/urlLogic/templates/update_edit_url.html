{% extends "layout.html" %}
{% load static %}

{% block content %}
<section class="min-h-screen flex items-center justify-center w-full reltive mt-16">
    <div class=" absolute max-w-7xl mx-auto bg-white/20 shadow p-6 rounded space-y-6 text-white">
    <h2 class="text-2xl font-semibold">Update Shortened URL</h2>

    <!-- Details Section -->
    <div class="space-y-2 text-sm text-gray-700">
        <p><strong>Short URL:</strong> {{ url.short_url }}</p>
        <p><strong>Original URL:</strong> {{ url.original_url }}</p>
        <p><strong>Created At:</strong> {{ url.created_at }}</p>
        <p><strong>Expires At:</strong> {{ url.expires_at|default:"Never" }}</p>
        <p><strong>Click Count:</strong> {{ url.click_count }}</p>
        {% if url.qrcode %}
        <div class="mt-3">
            <p><strong>QR Code:</strong></p>
            <img src="{{ url.qrcode.url }}" alt="QR Code" class="w-32 h-32" />
        </div>
        {% endif %}
    </div>

    <hr class="my-4">

    <!-- Edit Form -->
        <form method="POST" class="space-y-4">
            {% csrf_token %}
            <div>
            <label class="block font-medium mb-1">Edit Original URL:</label>
            <input
                type="url"
                name="long_url"
                placeholder="Leave blank to keep the same"
                class="w-full border px-3 py-2 rounded"
            />
            </div>

            <div>
            <label class="block font-medium mb-1">Set New Expiry Date:</label>
            <input
                type="datetime-local"
                name="expires_at"
                class="w-full border px-3 py-2 rounded"
            />
            </div>

            <button type="submit" class="bg-gradient-to-br from-green-800 to-green-600 text-white px-6 py-2 rounded hover:bg-green-500">
                Save Changes
            </button>
        </form>
    </div>  
</section>

{% endblock %}
